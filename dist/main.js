(()=>{"use strict";!function(){document.querySelector("#home");const e=document.querySelector("#article-project"),t=document.querySelector("#article-todo"),o=document.querySelector("#openprojectform"),c=document.querySelector("#submit_project"),n=document.querySelector("#exit-project-form"),l=document.querySelector("#opentodoform"),r=document.querySelector("#submit_todo"),s=document.querySelector("#exit-todo-form");document.querySelector(".results"),document.querySelector(".master-container"),document.querySelectorAll(".project-item"),document.querySelector(".project-list");const i=[];function a(e){let t=e;const o=document.querySelector(".todo-list"),c=document.createElement("div");c.className="todo";const n=document.createElement("div");n.className="todo-header";const l=document.createElement("h4");l.textContent=t.title;const r=document.createElement("p");r.textContent=t.date,n.appendChild(l),n.appendChild(r);const s=document.createElement("div");s.className="todo-content";const i=document.createElement("p");i.id="description",i.textContent=t.description,s.appendChild(i),c.appendChild(n),c.appendChild(s),o.appendChild(c)}e.addEventListener("click",(e=>{o.style.transform="scale(1)",console.log(e.target)})),t.addEventListener("click",(e=>{l.style.transform="scale(1)"})),s.addEventListener("click",(e=>l.style.transform="scale(0)")),n.addEventListener("click",(e=>o.style.transform="scale(0)")),c.addEventListener("click",(e=>{e.preventDefault();let t=(e=>{const t=(e=>{let t=[];const o={addTask:e=>{t.push(e)},deleteTask:e=>{t=t.filter((t=>t.title!=e))},getTasks:()=>t};return Object.assign(o,{name:e})})(e);return t})(o.title.value);console.log(t),function(e){let t=e,o=e.name,c=document.querySelector(".project-list"),n=document.createElement("div");n.className="project-item",n.id=`${o}`,n.textContent=o;let l=document.createElement("div");l.className="container",n.appendChild(l),c.appendChild(n),l.textContent=t.getTasks()}(t),i.push(t),console.log("Here is list of projects",i),o.style.transform="scale(0)",d(),m()})),r.addEventListener("click",(e=>{e.preventDefault();let t=((e,t,o)=>{const c=((e,t,o)=>({title:e,date:t,description:o}))(e,t,o);return c})(l.title.value,l.date.value,l.description.value);console.log(t),function(e){let t,o,c;Array.from(document.querySelectorAll(".project-item")).forEach((e=>{t="project-item active"===e.className?e.id:""})),console.log("Here is the project id",t),o=i.map((e=>e.name)).indexOf(t),console.log("Here is the addproject",o),-1===o&&console.log("Error, project not found."),c=i[o],console.log(c),c.addTask(e),console.log(`${JSON.stringify(c.getTasks())}`),i.forEach((e=>{console.log(`Here is the project: ${JSON.stringify(e)} and list of tasks: ${JSON.stringify(e.getTasks())}`)}))}(t),a(t),l.style.transform="scale(0)"}));const d=()=>{document.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(t=>{u(e.classList),console.log(t),console.log(e.classList),console.log(e.id),document.querySelector(".todo-list").innerHTML="",function(e){let t=document.querySelector(".todo-list"),o=i.map((e=>e.name)).indexOf(e),c=i[o].getTasks();c.length>0?c.forEach((e=>a(e))):t.innerHTML=""}(e.id)}))}))},m=()=>{let e=document.querySelector(".project-list").lastElementChild;u(e.classList)},u=e=>{document.querySelectorAll(".project-item").forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")})),e.toggle("active")}}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoib0JBSUEsV0FFdUJBLFNBQVNDLGNBQWMsU0FBMUMsTUFDTUMsRUFBbUJGLFNBQVNDLGNBQWMsb0JBQzFDRSxFQUFnQkgsU0FBU0MsY0FBYyxpQkFJdkNHLEVBQW9CSixTQUFTQyxjQUFjLG9CQUMzQ0ksRUFBd0JMLFNBQVNDLGNBQWMsbUJBQy9DSyxFQUFzQk4sU0FBU0MsY0FBYyxzQkFFN0NNLEVBQWlCUCxTQUFTQyxjQUFjLGlCQUN4Q08sRUFBcUJSLFNBQVNDLGNBQWMsZ0JBQzVDUSxFQUFtQlQsU0FBU0MsY0FBYyxtQkFFaENELFNBQVNDLGNBQWMsWUFHZEQsU0FBU0MsY0FBYyxxQkFDNUJELFNBQVNVLGlCQUFpQixpQkFDdEJWLFNBQVNDLGNBQWMsaUJBRy9DLE1BQU1VLEVBQW1CLEdBR3pCLFNBQVNDLEVBQXNCQyxHQUMzQixJQUFJQyxFQUFPRCxFQUNYLE1BQU1FLEVBQVlmLFNBQVNDLGNBQWMsY0FDbkNlLEVBQVdoQixTQUFTaUIsY0FBYyxPQUN4Q0QsRUFBU0UsVUFBWSxPQUNyQixNQUFNQyxFQUFrQm5CLFNBQVNpQixjQUFjLE9BQy9DRSxFQUFnQkQsVUFBWSxjQUM1QixNQUFNRSxFQUFLcEIsU0FBU2lCLGNBQWMsTUFDbENHLEVBQUdDLFlBQWNQLEVBQUtRLE1BQ3RCLE1BQU1DLEVBQUl2QixTQUFTaUIsY0FBYyxLQUNqQ00sRUFBRUYsWUFBY1AsRUFBS1UsS0FDckJMLEVBQWdCTSxZQUFZTCxHQUM1QkQsRUFBZ0JNLFlBQVlGLEdBRTVCLE1BQU1HLEVBQW1CMUIsU0FBU2lCLGNBQWMsT0FDaERTLEVBQWlCUixVQUFZLGVBQzdCLE1BQU1TLEVBQWlCM0IsU0FBU2lCLGNBQWMsS0FDOUNVLEVBQWVDLEdBQUssY0FDcEJELEVBQWVOLFlBQWNQLEVBQUtlLFlBQ2xDSCxFQUFpQkQsWUFBWUUsR0FDN0JYLEVBQVNTLFlBQVlOLEdBQ3JCSCxFQUFTUyxZQUFZQyxHQUNyQlgsRUFBVVUsWUFBWVQsRUFHMUIsQ0ErRUFkLEVBQWlCNEIsaUJBQWlCLFNBQVVDLElBQ3hDM0IsRUFBa0I0QixNQUFNQyxVQUFZLFdBQ3BDQyxRQUFRQyxJQUFJSixFQUFFSyxPQUFNLElBR3hCakMsRUFBYzJCLGlCQUFpQixTQUFVQyxJQUNyQ3hCLEVBQWV5QixNQUFNQyxVQUFZLGNBR3JDeEIsRUFBaUJxQixpQkFBaUIsU0FBVUMsR0FBTXhCLEVBQWV5QixNQUFNQyxVQUFZLGFBQ25GM0IsRUFBb0J3QixpQkFBaUIsU0FBVUMsR0FBTTNCLEVBQWtCNEIsTUFBTUMsVUFBWSxhQUd6RjVCLEVBQXNCeUIsaUJBQWlCLFNBQVVDLElBQzdDQSxFQUFFTSxpQkFDRixJQUFJQyxFQ3JJZSxDQUFDQyxJQUN4QixNQUFNQyxFQWxCTSxDQUFDRCxJQUNiLElBQUlFLEVBQVEsR0FDWixNQUFNQyxFQUFRLENBQ1ZDLFFBQVU3QixJQUNOMkIsRUFBTUcsS0FBSzlCLEVBQUksRUFFbkIrQixXQUFhQyxJQUNUTCxFQUFRQSxFQUFNTSxRQUFPakMsR0FBUUEsRUFBS1EsT0FBU3dCLEdBQVMsRUFFeERFLFNBQVUsSUFDQ1AsR0FJZixPQUFPUSxPQUFPQyxPQUFPUixFQUFPLENBQUVILFFBQU8sRUFJbEJZLENBQVFaLEdBRTNCLE9BQU9DLEdEa0llLENBQW1CcEMsRUFBa0JrQixNQUFNOEIsT0FDN0RsQixRQUFRQyxJQUFJRyxHQTNFaEIsU0FBZ0NhLEdBQzVCLElBQUliLEVBQWNhLEVBQ2RFLEVBQWdCRixFQUFRWixLQUN4QmUsRUFBZXRELFNBQVNDLGNBQWMsaUJBQ3RDc0QsRUFBTXZELFNBQVNpQixjQUFjLE9BQ2pDc0MsRUFBSXJDLFVBQVksZUFDaEJxQyxFQUFJM0IsR0FBSyxHQUFHeUIsSUFDWkUsRUFBSWxDLFlBQWNnQyxFQUNsQixJQUFJRyxFQUFZeEQsU0FBU2lCLGNBQWMsT0FDdkN1QyxFQUFVdEMsVUFBWSxZQUN0QnFDLEVBQUk5QixZQUFZK0IsR0FDaEJGLEVBQWE3QixZQUFZOEIsR0FDekJDLEVBQVVuQyxZQUFjaUIsRUFBWVUsVUFFeEMsQ0E4RElTLENBQXVCbkIsR0FDdkIzQixFQUFpQmlDLEtBQUtOLEdBQ3RCSixRQUFRQyxJQUFJLDJCQUE0QnhCLEdBQ3hDUCxFQUFrQjRCLE1BQU1DLFVBQVksV0FDcEN5QixJQUNBQyxHQUFvQixJQUd4Qm5ELEVBQW1Cc0IsaUJBQWlCLFNBQVVDLElBQzFDQSxFQUFFTSxpQkFDRixJQUFJeEIsRUU5SlUsRUFBQ1MsRUFBTUUsRUFBS0ssS0FDOUIsTUFBTStCLEVBTEcsRUFBQ3RDLEVBQU1FLEVBQUtLLEtBQ2QsQ0FBQ1AsUUFBTUUsT0FBS0ssZ0JBSUhmLENBQUtRLEVBQU1FLEVBQUtLLEdBQ2hDLE9BQU8rQixHRjRKWSxDQUFjckQsRUFBZWUsTUFBTThCLE1BQ3RCN0MsRUFBZWlCLEtBQUs0QixNQUNwQjdDLEVBQWVzQixZQUFZdUIsT0FDdkRsQixRQUFRQyxJQUFJdEIsR0FqRWhCLFNBQTZCQSxHQUN6QixJQUNJZ0QsRUFDQUMsRUFDQUMsRUFIZ0JDLE1BQU1DLEtBQUtqRSxTQUFTVSxpQkFBaUIsa0JBSzNDd0QsU0FBU2YsSUFDMkJVLEVBQXhCLHdCQUF0QlYsRUFBUWpDLFVBQW1EaUMsRUFBUXZCLEdBQWlCLE1BRXhGTSxRQUFRQyxJQUFJLHlCQUEwQjBCLEdBQ3RDQyxFQUFhbkQsRUFBaUJ3RCxLQUFJaEIsR0FBV0EsRUFBUVosT0FBTTZCLFFBQVFQLEdBQ25FM0IsUUFBUUMsSUFBSSx5QkFBMEIyQixJQUNsQixJQUFoQkEsR0FDQTVCLFFBQVFDLElBQUksNkJBRWhCNEIsRUFBa0JwRCxFQUFpQm1ELEdBQ25DNUIsUUFBUUMsSUFBSTRCLEdBQ1pBLEVBQWdCcEIsUUFBUTlCLEdBQ3hCcUIsUUFBUUMsSUFBSSxHQUFHa0MsS0FBS0MsVUFBVVAsRUFBZ0JmLGVBQzlDckMsRUFBaUJ1RCxTQUFTZixJQUN0QmpCLFFBQVFDLElBQUksd0JBQXdCa0MsS0FBS0MsVUFBVW5CLHlCQUErQmtCLEtBQUtDLFVBQVVuQixFQUFRSCxjQUFhLEdBSzlILENBeUNJdUIsQ0FBb0IxRCxHQUNwQkQsRUFBc0JDLEdBQ3RCTixFQUFleUIsTUFBTUMsVUFBWSxjQUtyQyxNQUFNeUIsRUFBaUIsS0FDSDFELFNBQVNVLGlCQUFpQixpQkFDbEN3RCxTQUFRTSxJQUNaQSxFQUFNMUMsaUJBQWlCLFNBQVVDLElBRTdCMEMsRUFBc0JELEVBQU1FLFdBQzVCeEMsUUFBUUMsSUFBSUosR0FDWkcsUUFBUUMsSUFBSXFDLEVBQU1FLFdBQ2xCeEMsUUFBUUMsSUFBSXFDLEVBQU01QyxJQXRGVjVCLFNBQVNDLGNBQWMsY0FDN0IwRSxVQUFZLEdBckMxQixTQUErQkMsR0FDM0IsSUFBSTdELEVBQVlmLFNBQVNDLGNBQWMsY0FDbkM0RSxFQUFlbEUsRUFBaUJ3RCxLQUFJaEIsR0FBV0EsRUFBUVosT0FBTTZCLFFBQVFRLEdBRXJFRSxFQURVbkUsRUFBaUJrRSxHQUNIN0IsV0FDeEI4QixFQUFjQyxPQUFTLEVBQ3ZCRCxFQUFjWixTQUFRcEQsR0FBUUYsRUFBc0JFLEtBRXBEQyxFQUFVNEQsVUFBWSxFQUk5QixDQWlIWUssQ0FBc0JSLEVBQU01QyxHQUFFLEdBVWpDLEdBQ0osRUFHQytCLEVBQXNCLEtBRXhCLElBQUlyQixFQURZdEMsU0FBU0MsY0FBYyxpQkFDYmdGLGlCQUMxQlIsRUFBc0JuQyxFQUFZb0MsVUFBUyxFQUd6Q0QsRUFBeUJyQyxJQUNYcEMsU0FBU1UsaUJBQWlCLGlCQUVsQ3dELFNBQVFNLElBQ1JBLEVBQU1FLFVBQVVRLFNBQVMsV0FDekJWLEVBQU1FLFVBQVVTLE9BQU8sU0FDM0IsSUFFSi9DLEVBQU9nRCxPQUFPLFNBRWQsQ0FHUixDR3ZOQSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvVUkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90b2RvLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlX25ld19wcm9qZWN0IGZyb20gXCIuL3Byb2plY3QuanNcIlxyXG5pbXBvcnQgY3JlYXRlTmV3VGFzayBmcm9tIFwiLi90b2RvLmpzXCJcclxuXHJcblxyXG5mdW5jdGlvbiBVSSAoKSB7XHJcbiAgICAvKi0tLS0tLS0tQVJUSUNMRSBMSU5LUy0tLS0tLS0tLS0qL1xyXG4gICAgY29uc3QgaG9tZWJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNob21lJylcclxuICAgIGNvbnN0IG5ld19wcm9qZWN0X2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXJ0aWNsZS1wcm9qZWN0JylcclxuICAgIGNvbnN0IG5ld190b2RvX2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXJ0aWNsZS10b2RvJylcclxuXHJcblxyXG4gICAgLyotLS0tLS0tIEFDVElWRSBQUk9KRUNUIEZPUk0vVE9ETyBGT1JNUy0tLS0tLS0tLS0qL1xyXG4gICAgY29uc3Qgb3Blbl9wcm9qZWN0X2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3BlbnByb2plY3Rmb3JtJylcclxuICAgIGNvbnN0IHN1Ym1pdF9wcm9qZWN0X2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXRfcHJvamVjdCcpXHJcbiAgICBjb25zdCBleGl0X3Byb2plY3RfYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2V4aXQtcHJvamVjdC1mb3JtJykgXHJcblxyXG4gICAgY29uc3Qgb3Blbl90b2RvX2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3BlbnRvZG9mb3JtJylcclxuICAgIGNvbnN0IHN1Ym1pdF90b2RvX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXRfdG9kbycpXHJcbiAgICBjb25zdCBleGl0X3RvZG9fYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2V4aXQtdG9kby1mb3JtJykgXHJcblxyXG4gICAgY29uc3QgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzJylcclxuXHJcbiAgICAvKi0tLS0tLS0tLS1NQVNURVIgQ09OVEFJTkVSIERJU1BMQVlJTkcgUFJPSkVDVFMtLS0tLS0tLSovXHJcbiAgICBjb25zdCBtYXN0ZXJfY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hc3Rlci1jb250YWluZXInKVxyXG4gICAgbGV0IHByb2plY3RfaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pdGVtJylcclxuICAgIGxldCBwcm9qZWN0X2xpc3RfaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKVxyXG5cclxuICAgIC8qKioqKioqIExJU1QgVE8gUkVOREVSIEFMTCBUSEUgTkVXIFBST0pFQ1RTICoqKioqKioqL1xyXG4gICAgY29uc3QgbGlzdF9vZl9wcm9qZWN0cyA9IFtdXHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZV90YXNrX2NvbnRhaW5lcihuZXdfdGFzayl7XHJcbiAgICAgICAgbGV0IHRhc2sgPSBuZXdfdGFza1xyXG4gICAgICAgIGNvbnN0IHRvZG9fbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWxpc3QnKVxyXG4gICAgICAgIGNvbnN0IHRvZG9fZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICB0b2RvX2Rpdi5jbGFzc05hbWUgPSAndG9kbydcclxuICAgICAgICBjb25zdCB0b2RvX2hlYWRlcl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIHRvZG9faGVhZGVyX2Rpdi5jbGFzc05hbWUgPSAndG9kby1oZWFkZXInXHJcbiAgICAgICAgY29uc3QgaDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNCcpXHJcbiAgICAgICAgaDQudGV4dENvbnRlbnQgPSB0YXNrLnRpdGxlXHJcbiAgICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG4gICAgICAgIHAudGV4dENvbnRlbnQgPSB0YXNrLmRhdGVcclxuICAgICAgICB0b2RvX2hlYWRlcl9kaXYuYXBwZW5kQ2hpbGQoaDQpXHJcbiAgICAgICAgdG9kb19oZWFkZXJfZGl2LmFwcGVuZENoaWxkKHApXHJcbiAgICBcclxuICAgICAgICBjb25zdCB0b2RvX2NvbnRlbnRfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICB0b2RvX2NvbnRlbnRfZGl2LmNsYXNzTmFtZSA9ICd0b2RvLWNvbnRlbnQnXHJcbiAgICAgICAgY29uc3QgcF90b2RvX2NvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuICAgICAgICBwX3RvZG9fY29udGVudC5pZCA9ICdkZXNjcmlwdGlvbidcclxuICAgICAgICBwX3RvZG9fY29udGVudC50ZXh0Q29udGVudCA9IHRhc2suZGVzY3JpcHRpb25cclxuICAgICAgICB0b2RvX2NvbnRlbnRfZGl2LmFwcGVuZENoaWxkKHBfdG9kb19jb250ZW50KVxyXG4gICAgICAgIHRvZG9fZGl2LmFwcGVuZENoaWxkKHRvZG9faGVhZGVyX2RpdilcclxuICAgICAgICB0b2RvX2Rpdi5hcHBlbmRDaGlsZCh0b2RvX2NvbnRlbnRfZGl2KVxyXG4gICAgICAgIHRvZG9fbGlzdC5hcHBlbmRDaGlsZCh0b2RvX2RpdilcclxuICAgIFxyXG4gICAgICAgcmV0dXJuIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBsb29wX3Rocm91Z2hfcHJvamVjdHMobGlzdCl7XHJcbiAgICAgICAgbGV0IHRvZG9fbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWxpc3QnKVxyXG4gICAgICAgIGxldCB0YXJnZXRfaW5kZXggPSBsaXN0X29mX3Byb2plY3RzLm1hcChwcm9qZWN0ID0+IHByb2plY3QubmFtZSkuaW5kZXhPZihsaXN0KVxyXG4gICAgICAgIGxldCBwcm9qZWN0ID0gbGlzdF9vZl9wcm9qZWN0c1t0YXJnZXRfaW5kZXhdXHJcbiAgICAgICAgbGV0IGxpc3Rfb2ZfdGFza3MgPSBwcm9qZWN0LmdldFRhc2tzKClcclxuICAgICAgICBpZiAobGlzdF9vZl90YXNrcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgbGlzdF9vZl90YXNrcy5mb3JFYWNoKHRhc2sgPT4gY3JlYXRlX3Rhc2tfY29udGFpbmVyKHRhc2spKVxyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgdG9kb19saXN0LmlubmVySFRNTCA9IFwiXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgIFxyXG4gICAgfVxyXG4gICAgXHJcblxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiByZW5kZXJfcHJvamVjdF90b19wYWdlKHByb2plY3Qpe1xyXG4gICAgICAgIGxldCBuZXdfcHJvamVjdCA9IHByb2plY3RcclxuICAgICAgICBsZXQgcHJvamVjdF90aXRsZSA9IHByb2plY3QubmFtZVxyXG4gICAgICAgIGxldCBwcm9qZWN0X2xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1saXN0JylcclxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3Byb2plY3QtaXRlbSdcclxuICAgICAgICBkaXYuaWQgPSBgJHtwcm9qZWN0X3RpdGxlfWBcclxuICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBwcm9qZWN0X3RpdGxlXHJcbiAgICAgICAgbGV0IGNoaWxkX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgY2hpbGRfZGl2LmNsYXNzTmFtZSA9ICdjb250YWluZXInXHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGNoaWxkX2RpdilcclxuICAgICAgICBwcm9qZWN0X2xpc3QuYXBwZW5kQ2hpbGQoZGl2KVxyXG4gICAgICAgIGNoaWxkX2Rpdi50ZXh0Q29udGVudCA9IG5ld19wcm9qZWN0LmdldFRhc2tzKClcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiByZW5kZXJfdG9kb3MoKXtcclxuICAgICAgICBsZXQgdG9kb19saXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tbGlzdCcpXHJcbiAgICAgICAgdG9kb19saXN0LmlubmVySFRNTCA9ICcnXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlcl90YXNrX3RvX3BhZ2UobmV3X3Rhc2spe1xyXG4gICAgICAgIGxldCBwcm9qZWN0X2l0ZW1zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pdGVtJykpXHJcbiAgICAgICAgbGV0IHByb2plY3RfaWQ7XHJcbiAgICAgICAgbGV0IGFkZHByb2plY3Q7XHJcbiAgICAgICAgbGV0IGdyYWJiZWRfcHJvamVjdDtcclxuXHJcbiAgICAgICAgcHJvamVjdF9pdGVtcy5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHByb2plY3QuY2xhc3NOYW1lID09PSAncHJvamVjdC1pdGVtIGFjdGl2ZScgPyBwcm9qZWN0X2lkID0gcHJvamVjdC5pZDogcHJvamVjdF9pZCA9ICcnXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zb2xlLmxvZygnSGVyZSBpcyB0aGUgcHJvamVjdCBpZCcsIHByb2plY3RfaWQpXHJcbiAgICAgICAgYWRkcHJvamVjdCA9IGxpc3Rfb2ZfcHJvamVjdHMubWFwKHByb2plY3QgPT4gcHJvamVjdC5uYW1lKS5pbmRleE9mKHByb2plY3RfaWQpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0hlcmUgaXMgdGhlIGFkZHByb2plY3QnLCBhZGRwcm9qZWN0KVxyXG4gICAgICAgIGlmIChhZGRwcm9qZWN0ID09PSAtMSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciwgcHJvamVjdCBub3QgZm91bmQuJylcclxuICAgICAgICB9XHJcbiAgICAgICAgZ3JhYmJlZF9wcm9qZWN0ID0gbGlzdF9vZl9wcm9qZWN0c1thZGRwcm9qZWN0XVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGdyYWJiZWRfcHJvamVjdClcclxuICAgICAgICBncmFiYmVkX3Byb2plY3QuYWRkVGFzayhuZXdfdGFzaylcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHtKU09OLnN0cmluZ2lmeShncmFiYmVkX3Byb2plY3QuZ2V0VGFza3MoKSl9YClcclxuICAgICAgICBsaXN0X29mX3Byb2plY3RzLmZvckVhY2goKHByb2plY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEhlcmUgaXMgdGhlIHByb2plY3Q6ICR7SlNPTi5zdHJpbmdpZnkocHJvamVjdCl9IGFuZCBsaXN0IG9mIHRhc2tzOiAke0pTT04uc3RyaW5naWZ5KHByb2plY3QuZ2V0VGFza3MoKSl9YClcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSAgIFxyXG4gICAgXHJcblxyXG4gICAgXHJcbiAgICAvLyBwcm9qZWN0X2l0ZW1zLmZvckVhY2gocHJvamVjdCA9PiB7XHJcbiAgICAvLyAgICAgcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PntcclxuICAgIC8vICAgICAgICAgcmVzdWx0cy50ZXh0Q29udGVudCA9IEpTT04uc3RyaW5naWZ5KHByb2plY3QpXHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vIH0pXHJcblxyXG4gICAgbmV3X3Byb2plY3RfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgb3Blbl9wcm9qZWN0X2Zvcm0uc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxKVwiXHJcbiAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQpXHJcbiAgICB9KVxyXG5cclxuICAgIG5ld190b2RvX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIG9wZW5fdG9kb19mb3JtLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSlcIlxyXG4gICAgfSlcclxuXHJcbiAgICBleGl0X3RvZG9fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IG9wZW5fdG9kb19mb3JtLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMClcIilcclxuICAgIGV4aXRfcHJvamVjdF9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gb3Blbl9wcm9qZWN0X2Zvcm0uc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgwKVwiKVxyXG5cclxuXHJcbiAgICBzdWJtaXRfcHJvamVjdF9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIGxldCBuZXdfcHJvamVjdCA9IGNyZWF0ZV9uZXdfcHJvamVjdChvcGVuX3Byb2plY3RfZm9ybS50aXRsZS52YWx1ZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhuZXdfcHJvamVjdClcclxuICAgICAgICByZW5kZXJfcHJvamVjdF90b19wYWdlKG5ld19wcm9qZWN0KVxyXG4gICAgICAgIGxpc3Rfb2ZfcHJvamVjdHMucHVzaChuZXdfcHJvamVjdClcclxuICAgICAgICBjb25zb2xlLmxvZygnSGVyZSBpcyBsaXN0IG9mIHByb2plY3RzJywgbGlzdF9vZl9wcm9qZWN0cylcclxuICAgICAgICBvcGVuX3Byb2plY3RfZm9ybS5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDApXCJcclxuICAgICAgICBkb21fbWFuaXB1bGF0ZSgpXHJcbiAgICAgICAgbWFrZV9wcm9qZWN0X2FjdGl2ZSgpXHJcbiAgICB9KVxyXG5cclxuICAgIHN1Ym1pdF90b2RvX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgbGV0IG5ld190YXNrID0gY3JlYXRlTmV3VGFzayhvcGVuX3RvZG9fZm9ybS50aXRsZS52YWx1ZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5fdG9kb19mb3JtLmRhdGUudmFsdWUsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuX3RvZG9fZm9ybS5kZXNjcmlwdGlvbi52YWx1ZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhuZXdfdGFzaylcclxuICAgICAgICByZW5kZXJfdGFza190b19wYWdlKG5ld190YXNrKVxyXG4gICAgICAgIGNyZWF0ZV90YXNrX2NvbnRhaW5lcihuZXdfdGFzaylcclxuICAgICAgICBvcGVuX3RvZG9fZm9ybS5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDApXCJcclxuICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICBjb25zdCBkb21fbWFuaXB1bGF0ZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QtaXRlbScpXHJcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgY2hpbGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkb21fbWFuaXB1bGF0ZV9hY3RpdmUoY2hpbGQuY2xhc3NMaXN0KVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLmNsYXNzTGlzdClcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLmlkKVxyXG4gICAgICAgICAgICAgICAgLy8gbGlzdF9vZl9wcm9qZWN0cy5mb3JFYWNoKChwcm9qZWN0KSA9PiBwcm9qZWN0LmdldFRhc2tzKCkgKVxyXG4gICAgICAgICAgICAgICAgcmVuZGVyX3RvZG9zKClcclxuICAgICAgICAgICAgICAgIGxvb3BfdGhyb3VnaF9wcm9qZWN0cyhjaGlsZC5pZClcclxuICAgICAgICAgICAgICAgIC8vIGlmICh0YXJnZXRfcHJvamVjdCA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHByb2plY3RfbGlzdF9odG1sLmlubmVySFRNTCA9ICcnXHJcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2V7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZ2V0X2FwcHJvcHJpYXRlX3Byb2plY3QodGFyZ2V0X3Byb2plY3QpXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZXN1bHRzLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KGNoaWxkLnRleHRDb250ZW50KVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1ha2VfcHJvamVjdF9hY3RpdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QnKVxyXG4gICAgICAgIGxldCBuZXdfcHJvamVjdCA9IGVsZW1lbnQubGFzdEVsZW1lbnRDaGlsZFxyXG4gICAgICAgIGRvbV9tYW5pcHVsYXRlX2FjdGl2ZShuZXdfcHJvamVjdC5jbGFzc0xpc3QpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZG9tX21hbmlwdWxhdGVfYWN0aXZlID0gKHRhcmdldCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pdGVtJylcclxuICAgICAgICBcclxuICAgICAgICBlbGVtZW50LmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKXtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpIFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGFyZ2V0LnRvZ2dsZSgnYWN0aXZlJylcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBVSTsiLCJjb25zdCBwcm9qZWN0ID0gKG5hbWUpID0+IHtcclxuICAgIGxldCB0YXNrcyA9IFtdO1xyXG4gICAgY29uc3QgcHJvdG8gPSB7XHJcbiAgICAgICAgYWRkVGFzazogKHRhc2spID0+IHtcclxuICAgICAgICAgICAgdGFza3MucHVzaCh0YXNrKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVsZXRlVGFzazogKHRhc2tUaXRsZSkgPT4ge1xyXG4gICAgICAgICAgICB0YXNrcyA9IHRhc2tzLmZpbHRlcih0YXNrID0+IHRhc2sudGl0bGUgIT0gdGFza1RpdGxlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0VGFza3M6ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhc2tzXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgIH07XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm90bywgeyBuYW1lIH0pO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlX25ld19wcm9qZWN0ID0gKG5hbWUpID0+IHtcclxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBwcm9qZWN0KG5hbWUpXHJcblxyXG4gICAgcmV0dXJuIG5ld1Byb2plY3RcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlX25ld19wcm9qZWN0XHJcbiIsImNvbnN0IHRhc2sgPSAodGl0bGUsZGF0ZSxkZXNjcmlwdGlvbikgPT4ge1xyXG4gICAgcmV0dXJuIHt0aXRsZSxkYXRlLGRlc2NyaXB0aW9ufVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVOZXdUYXNrID0gKHRpdGxlLGRhdGUsZGVzY3JpcHRpb24pID0+IHtcclxuICAgIGNvbnN0IG5ld1Rhc2sgPSB0YXNrKHRpdGxlLGRhdGUsZGVzY3JpcHRpb24pXHJcbiAgICByZXR1cm4gbmV3VGFza1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVOZXdUYXNrXHJcblxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgVUkgZnJvbSBcIi4vbW9kdWxlcy9VSS5qc1wiXHJcblxyXG5VSSgpOyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuZXdfcHJvamVjdF9mb3JtIiwibmV3X3RvZG9fZm9ybSIsIm9wZW5fcHJvamVjdF9mb3JtIiwic3VibWl0X3Byb2plY3RfYnV0dG9uIiwiZXhpdF9wcm9qZWN0X2J1dHRvbiIsIm9wZW5fdG9kb19mb3JtIiwic3VibWl0X3RvZG9fYnV0dG9uIiwiZXhpdF90b2RvX2J1dHRvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsaXN0X29mX3Byb2plY3RzIiwiY3JlYXRlX3Rhc2tfY29udGFpbmVyIiwibmV3X3Rhc2siLCJ0YXNrIiwidG9kb19saXN0IiwidG9kb19kaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidG9kb19oZWFkZXJfZGl2IiwiaDQiLCJ0ZXh0Q29udGVudCIsInRpdGxlIiwicCIsImRhdGUiLCJhcHBlbmRDaGlsZCIsInRvZG9fY29udGVudF9kaXYiLCJwX3RvZG9fY29udGVudCIsImlkIiwiZGVzY3JpcHRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInN0eWxlIiwidHJhbnNmb3JtIiwiY29uc29sZSIsImxvZyIsInRhcmdldCIsInByZXZlbnREZWZhdWx0IiwibmV3X3Byb2plY3QiLCJuYW1lIiwibmV3UHJvamVjdCIsInRhc2tzIiwicHJvdG8iLCJhZGRUYXNrIiwicHVzaCIsImRlbGV0ZVRhc2siLCJ0YXNrVGl0bGUiLCJmaWx0ZXIiLCJnZXRUYXNrcyIsIk9iamVjdCIsImFzc2lnbiIsInByb2plY3QiLCJ2YWx1ZSIsInByb2plY3RfdGl0bGUiLCJwcm9qZWN0X2xpc3QiLCJkaXYiLCJjaGlsZF9kaXYiLCJyZW5kZXJfcHJvamVjdF90b19wYWdlIiwiZG9tX21hbmlwdWxhdGUiLCJtYWtlX3Byb2plY3RfYWN0aXZlIiwibmV3VGFzayIsInByb2plY3RfaWQiLCJhZGRwcm9qZWN0IiwiZ3JhYmJlZF9wcm9qZWN0IiwiQXJyYXkiLCJmcm9tIiwiZm9yRWFjaCIsIm1hcCIsImluZGV4T2YiLCJKU09OIiwic3RyaW5naWZ5IiwicmVuZGVyX3Rhc2tfdG9fcGFnZSIsImNoaWxkIiwiZG9tX21hbmlwdWxhdGVfYWN0aXZlIiwiY2xhc3NMaXN0IiwiaW5uZXJIVE1MIiwibGlzdCIsInRhcmdldF9pbmRleCIsImxpc3Rfb2ZfdGFza3MiLCJsZW5ndGgiLCJsb29wX3Rocm91Z2hfcHJvamVjdHMiLCJsYXN0RWxlbWVudENoaWxkIiwiY29udGFpbnMiLCJyZW1vdmUiLCJ0b2dnbGUiXSwic291cmNlUm9vdCI6IiJ9